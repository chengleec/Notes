预热项目总结

1.明确需求：
	获取预热数据，通过 api 预热
2.设计方案：
	获取数据：每个业务线一个线程去获取数据
	数据源：数据源就绪后发送相关业务线的指标数据
	发送数据：每个业务线一个线程池去发送数据(线程隔离)
	统计数据：统计预热相关数据
3.技术选型：
	前端：js
	后端：springboot, hystrix
	数据库：MySQL
4.过程：
	获取数据：
		建表：小时级指标查询数据
		查询：从 adhoc 查询数据（问题：kerbos 认证问题，core-site.xml...问题，查询文件不存在问题，时序依赖性问题）
		落地：数据源就绪时间不一致，需要将数据写入文件，结构为 日期-业务线-数据源.txt，
			需要一个 content 文件，便于查询（遇到了多线程读写文件问题，改为 content 文件夹，每个业务线各写各的）
	发送数据：
		准备数据：每个数据源就绪后使用一个线程去读取预热数据，并将其放入队列中
		发送数据：线程池多线程读取队列中的数据并发送
	统计数据：
		预热总数：队列中数据总数
		成功数量：使用原子类统计指标预热成功的数量
		失败指标：将失败指标写入本地文件中，然后插入 MySQL 表
		缓存命中率：预热指标和查询指标的交集
	表结构设计：
		业务线配置表
		业务线信息统计表
		业务线预热数据源排行
		业务线预热指标排行
		业务线失败指标信息